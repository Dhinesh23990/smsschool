<div class="page page-dashboard pull-to-header ng-scope" data-ng-controller="teacheraddattendancemgmtController">
   <div class="row headcontent">
		<h3 class="schooldiary_h2">{{'teacherattendance.teacherattendancemgmt' | translate}}</h3>
	</div>
	<div class="row" style="margin-left:-10px !important;">
		<div class="col-md-12" style="padding-right:5px !important">
			<ol class="breadcrumb" id="setresyults">
			<li data-ng-click="gotodashboard()"><i class="glyphicon glyphicon-home" style="font-size:11px !important;right:5px !important"></i><a >{{'studentattendance.home' | translate}}</a></li>
			<li class="active" ui-sref="teacherattendance">{{'teacherattendance.teacheratde' | translate}}</li>
			
			</ol>
		</div>
	</div>
	<div class="panel panel-default" style="margin-left: 6px;">
		<div class="panel-heading">
		<i class="fa fa fa-bars"></i>
			<span class="labelstcampaign " style="font-weight:bold;font-size:14px !important"> {{'teacherattendance.teacheratde' | translate}} </span>
			</div>
	<div class="panel-body">
			
			<div class="col-md-12" style="border:1px solid #eee;background-color:#eee;padding:10px;">
				  <form name="step1">
                        <div class="row">
							<div class="form-group col-md-4">
								<label for="pr-name" class="control-label ">{{'studentattendance.dtofatt' | translate}}<span class="text-red"> * </span></label>
								<input class="form-control" placeholder="Attendance Date" type="text" name="birthdate" ng-model="attenddancedate" validator="required" valid-method="watch" required-error-message= "Attendance Date is required">
								 
							</div>
                            <div class="form-group col-md-4">
                                <label for="class" class="control-label minotaur-label"> {{'teacherattendance.day' | translate}}<span class="text-red"> * </span> </label>
							<select class="form-control" name="day" id="day" data-ng-model="day"
								  ng-options="dayoption.key as dayoption.value for dayoption in dayoptions">
							</select>
                            </div>
							
							 <div class="form-group col-md-4">
                                <label for="section" class="control-label minotaur-label"> {{'teacherattendance.staff' | translate}}<span class="text-red"> * </span> </label>
                                <select class="form-control" name="staff" id="staff" data-ng-model="teachername"
								ng-options="teachername.staffId as teachername.staffName for teachername in teachernames" >
                                    <option value="">{{'teacherattendance.selectstaff' | translate}}</option>
							    </select>
                            </div>
						</div>
							
							<div class="row">
					    <div class="form-group col-md-5">
						</div>
						<div class="form-group col-md-6">
						    <button class="btn btn-sm btn-success" type="submit" validation-submit="step1"  data-ng-click="getAllTeacheratt()">
							{{'studentattendance.show' | translate}}</button>
 
						</div>	
					
							</div>
							</form>
			</div>
			
					
				
                     			
					
				  </form>	
                  
    <div data-ng-show="attendancetable && attenddancedate && items.length > 0">
		<div class="col-md-12 nopadmar">
			<!--<button class="btn btn-sm btn-primary" ui-sref="addstudent">Add Student</button>
				
				<div class="form-group col-md-12">
				<p>	NOTE</p>

				<p>1. Only checked comments will be included in the message </p>

				<p>	2. Select "Full Day" for Daily Attendance OR "Morning/Afternoon" for Half Day Attendance </p>
						
			</div>-->
				<table  class="table table-striped table-bordered table-hover generaltable minotaur-table" style="display: table;" role="grid"> 
					<thead class="tabletbody">
						<tr>					
							<th>{{'teacherattendance.staffids' | translate}}</th>
							<th>{{'teacherattendance.employeeno' | translate}}</th>
							<th>{{'teacherattendance.staffname' | translate}}</th>
							<th>
							<input id="markall" name="markall"  type="checkbox" ng-model="checked" ng-click="checkalloneday()"> <label for="fullDay"> {{'teacherattendance.markall' | translate}}</label>
							</th>
							<th>{{'teacherattendance.leave' | translate}}</th>
							<th>
							{{'teacherattendance.comments' | translate}}</th>
							<th>{{'studentattendance.attendance' | translate}}</th>							
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in items">
					
						  <td class="change_colr">{{item.staffId}}</td>
						  <td class="change_colr">{{item.admissionNumber}}</td>
						  <td class="change_colr">{{item.staffName}}</td>
						  <td><input name="fullDay" type="checkbox" ng-model="item.morning"></td>
						  <td >
						  <select class="form-control" name="leave" id="leave" data-ng-model="item.selectLeaveMasterId" ng-disabled="item.morning"
							ng-options="section.id as section.leaveShortName for section in item.leaveMasterVO" validator="required" valid-method="watch" required-error-message="leave is required">
                                <option value="">{{'teacherattendance.selectleave' | translate}}</option>
							</select>
							</td>
							<td> <input name="cmnts" id="name"  ng-model="item.note"  type="text" placeholder="Leave/absent/on duty"></td>
						  <td class="change_colr">
						  <span style="background-color:#6ec06e;padding:5px">{{item.attendancePercenatge}} %
						  </span></td>
			            
						</tr>
					</tbody>
				</table>
				<div class="form-group col-md-5">
						</div>
						<div class="form-group col-md-6">
						    <button class="btn btn-sm btn-primary"  data-ng-click="saveattendance()">
							{{'studentattendance.Save' | translate}}</button>
							<button class="btn btn-sm btn-danger"  data-ng-click="clearAllattendance()">
							{{'studentattendance.Clear' | translate}}</button>
						</div>	
		</div>
	</div>	
	<div class="col-md-12 nopadmar" data-ng-if="items.length == 0">
			
				<table  class="table table-striped table-bordered table-hover generaltable minotaur-table" style="display: table;" role="grid"> 
					<thead class="tabletbody">
						<tr>					
							<th>{{'teacherattendance.staffids' | translate}}</th>
							<th>{{'teacherattendance.employeeno' | translate}}</th>
							<th>{{'teacherattendance.staffname' | translate}}</th>
							<th>
							<input id="markall" name="markall"  type="checkbox" ng-model="checked" ng-click="checkalloneday()"> <label for="fullDay"> {{'teacherattendance.markall' | translate}}</label>
							</th>
							<th>{{'teacherattendance.leave' | translate}}</th>
							<th>
							{{'teacherattendance.comments' | translate}}</th>
							<th>{{'studentattendance.attendance' | translate}}</th>						
						</tr>
					</thead>
					<tbody>
						<tr>			
						  <td colspan="7" class="change_colr">{{'studentmgmt.datanotfound' | translate}}</td>
						</tr>
					</tbody>
				</table>
				
		</div>
	</div>									   
				</div>
				
			</div>
	</div>
	
	
	
	
	
	
	
	
	
	